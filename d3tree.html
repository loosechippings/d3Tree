<html>
	<head>
		<style>
			.node {fill:#fff;
					stroke:#555;
					stroke-width:1.5px}
			.border {
				fill:none;
				stroke:#000;
				stroke-width:1px;
			}
			.link {
				fill:none;
				stroke:#ccc;
				stroke-width:2px;
			}
			.className {
				font:12px sans-serif;;
			}
		</style>
	</head>
	<body>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script type="text/javascript">
			var width=1000
			var height=1000
			var boxWidth=100
			var boxHeight=20
			var border={left:boxWidth/2, right:boxWidth/2, top:1, bottom:boxHeight+1}
			
			var treeData={"name":"head","children":[{"name":"one","attributes":["a1","a2","a3"]},{"name":"two"},{"name":"three"}]}
			
			var xoff=function(d) {
				return d.x+border.left-boxWidth/2;
			}
			
			var yoff=function(d) {
				return d.y+border.top;
			}

			var svg=d3.select("body").append("svg")
				.attr("width",width)
				.attr("height",height)
				.attr("translate","transform (10,10)")
				
			svg.append("rect")
				.attr("width",width)
				.attr("height",height)
				.attr("class","border")
				
			var diagonal=d3.svg.diagonal()
				
			var tree=d3.layout.tree().
				size([width-border.left-border.right,height-border.top-border.bottom])
			
			var nodes=tree.nodes(treeData)
			var links=tree.links(nodes)
			
			svg.selectAll(".link").data(links)
				.enter()
				.append("path")
				.attr("class","link")
				.attr("d",diagonal)
				.attr("transform","translate ("+border.left+","+border.top+")")			

			var nodeContainer=svg.selectAll(".node")
				.data(nodes)
				.enter()
				.append("g")
				.attr("transform",function(d) {return "translate ("+xoff(d)+","+yoff(d)+")"})

			nodeContainer.append("svg:rect")
				.attr("width",boxWidth)
				.attr("height",boxHeight)
				.attr("class","node")
				
			nodeContainer.append("text")
				.text(function(d) {return d.name})
				.attr("class","className")
				.attr("dominant-baseline","text-before-edge")

		</script>
	</body>
</html>
	